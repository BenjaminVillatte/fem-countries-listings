var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,a=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&o(e,l,a[l]);if(n)for(var l of n(a))s.call(a,l)&&o(e,l,a[l]);return e};import{m as l,p as r,a as i,o as c,c as d,b as u,w as p,v as m,d as h,r as g,e as f,F as y,f as v,g as b,t as C,h as k,i as w,j as L,k as E,l as N,n as R,q as M,s as O,u as _,x as S,y as T}from"./vendor.7d27f044.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const s=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,a)=>{const l=new URL(e,s);if(self[t].moduleMap[l])return n(self[t].moduleMap[l]);const r=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){a(new Error(`Failed to import: ${e}`)),o(i)},onload(){n(self[t].moduleMap[l]),o(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/fem-countries-listings/assets/");const D={data:()=>({checked:!1}),computed:a({},l(["isDarkMode"])),watch:{isDarkMode(e){this.checked=e,this.updateBodyClass()}},emits:["change"],methods:{onChange(){this.$emit("change",this.checked)},updateBodyClass(){this.isDarkMode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}},created(){this.checked=this.isDarkMode,this.updateBodyClass()}},x=h();r("data-v-710c862c");const I={class:"theme-switcher"},B={class:"switch"},j=u("span",{class:"slider"},null,-1);i();const A=x(((e,t,n,s,o,a)=>(c(),d("div",I,[u("label",B,[p(u("input",{type:"checkbox",value:"1","onUpdate:modelValue":t[1]||(t[1]=e=>o.checked=e),onChange:t[2]||(t[2]=(...e)=>a.onChange&&a.onChange(...e))},null,544),[[m,o.checked]]),j])]))));D.render=A,D.__scopeId="data-v-710c862c";const F={components:{ThemeSwitcher:D},methods:{onChange(){this.$store.dispatch("toggleDarkMode")}}},U={class:"wrapper"},$=u("p",{class:"tagline"},"Where in the world?",-1);F.render=function(e,t,n,s,o,a){const l=g("ThemeSwitcher");return c(),d("header",null,[u("div",U,[$,u(l,{onChange:a.onChange},null,8,["onChange"])])])};const P={},H=h();r("data-v-8b40312e");const z={class:"loader"},G=u("div",{class:"lds-ellipsis"},[u("div"),u("div"),u("div")],-1);i();const K=H(((e,t)=>(c(),d("div",z,[G]))));P.render=K,P.__scopeId="data-v-8b40312e";const V={components:{Header:F,Loader:P},data:()=>({loading:!0}),methods:a({},f(["loadCountries"])),created(){this.loadCountries().then((()=>{this.loading=!1})),this.$store.dispatch("setDarkMode")}},q={class:"container"};V.render=function(e,t,n,s,o,a){const l=g("Header"),r=g("router-view"),i=g("Loader");return c(),d("div",q,[u(l),u("main",null,[o.loading?(c(),d(i,{key:1})):(c(),d(r,{key:0}))])])};const J={props:["countries"],methods:{onScroll(e){const{scrollTop:t,clientHeight:n,scrollHeight:s}=document.documentElement;t+n>=s&&this.$store.dispatch("goNextPage")}},mounted(){document.addEventListener("scroll",this.onScroll)},unmounted(){document.removeEventListener("scroll",this.onScroll)}},W={class:"list"},Q={class:"card-header"},X={class:"card-body"},Y={class:"infos"},Z=u("span",{class:"label"},"Population: ",-1),ee={class:"infos"},te=u("span",{class:"label"},"Region: ",-1),ne={class:"infos"},se=u("span",{class:"label"},"Capital: ",-1);J.render=function(e,t,n,s,o,a){const l=g("router-link");return c(),d("div",W,[(c(!0),d(y,null,v(n.countries,(e=>(c(),d("div",{class:"card",key:e.alpha3Code},[u(l,{to:"/"+e.name},{default:b((()=>[u("div",Q,[u("img",{src:e.flag,alt:"flag "+e.name},null,8,["src","alt"])]),u("div",X,[u("h2",null,C(e.name),1),u("p",Y,[Z,u("span",null,C(new Intl.NumberFormat("en-Us").format(e.population)),1)]),u("p",ee,[te,u("span",null,C(e.region),1)]),u("p",ne,[se,u("span",null,C(e.capital),1)])])])),_:2},1032,["to"])])))),128))])};const oe={data:()=>({regions:["","Africa","Americas","Asia","Europe","Oceania"],region:null,open:!1}),computed:a(a({},k(["filterRegion"])),{regionLabel(){return""!==this.region&&this.region?this.region:"Filter by Region"}}),methods:{select(e){this.region=e,this.open=!1,this.$store.dispatch("filterByRegion",this.region)}},mounted(){this.region=this.filterRegion}},ae={class:"filter"},le={class:"select"},re={key:0,class:"choices"};oe.render=function(e,t,n,s,o,a){return c(),d("div",ae,[u("div",le,[u("div",{class:"selected",onClick:t[1]||(t[1]=e=>o.open=!o.open)},C(a.regionLabel),1),o.open?(c(),d("ul",re,[(c(!0),d(y,null,v(o.regions,(e=>(c(),d("li",{key:e,onClick:t=>a.select(e)},C(e),9,["onClick"])))),128))])):w("",!0)])])};const ie={components:{CountriesList:J,RegionFilter:oe},computed:a(a({},k(["filterName"])),l({countries:"getCountries"})),methods:{filterOnName(e){this.$store.dispatch("filterOnName",e.target.value)}}},ce={class:"countries-view"},de={class:"filter-bar"},ue={class:"search"},pe=u("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},[u("path",{d:"M0 0h24v24H0V0z",fill:"none"}),u("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})],-1);ie.render=function(e,t,n,s,o,a){const l=g("RegionFilter"),r=g("CountriesList");return c(),d("div",ce,[u("div",de,[u("div",ue,[pe,p(u("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.filterName=t),onKeyup:t[2]||(t[2]=(...e)=>a.filterOnName&&a.filterOnName(...e)),placeholder:"Search for a country..."},null,544),[[L,e.filterName]])]),u(l)]),u(r,{countries:e.countries},null,8,["countries"])])};const me={props:["country"],data:()=>({borders:null}),watch:{country(){this.borders=this.getByCodes(this.country.borders)}},computed:a({},l(["getByCodes"])),created(){this.borders=this.getByCodes(this.country.borders)}},he={class:"detail"},ge={class:"flag"},fe={class:"infos"},ye=u("span",{class:"label"},"NativeName: ",-1),ve=u("span",{class:"label"},"Population: ",-1),be=u("span",{class:"label"},"Region: ",-1),Ce=u("span",{class:"label"},"Sub Region: ",-1),ke=u("span",{class:"label"},"Capital: ",-1),we=u("span",{class:"label"},"Top Level Domain: ",-1),Le=u("span",{class:"label"},"Currencies: ",-1),Ee=u("span",{class:"label"},"Languages: ",-1),Ne={key:0,class:"borders"},Re=u("h2",null,"Border Countries:",-1);me.render=function(e,t,n,s,o,a){const l=g("router-link");return c(),d("div",he,[u("div",ge,[u("img",{src:n.country.flag,alt:"flag "+n.country.name},null,8,["src","alt"])]),u("div",null,[u("h1",null,C(n.country.name),1),u("section",fe,[u("div",null,[u("p",null,[ye,u("span",null,C(n.country.nativeName),1)]),u("p",null,[ve,u("span",null,C(new Intl.NumberFormat("en-Us").format(n.country.population)),1)]),u("p",null,[be,u("span",null,C(n.country.region),1)]),u("p",null,[Ce,u("span",null,C(n.country.subregion),1)]),u("p",null,[ke,u("span",null,C(n.country.capital),1)])]),u("div",null,[u("p",null,[we,u("span",null,C(n.country.topLevelDomain.join(", ")),1)]),u("p",null,[Le,u("span",null,C(n.country.currencies.map((e=>e.name)).join(", ")),1)]),u("p",null,[Ee,u("span",null,C(n.country.languages.map((e=>e.name)).join(", ")),1)])])]),o.borders.length?(c(),d("section",Ne,[Re,(c(!0),d(y,null,v(o.borders,(e=>(c(),d(l,{key:e,to:{name:"country",params:{name:e.name}},class:"btn"},{default:b((()=>[E(C(e.name),1)])),_:2},1032,["to"])))),128))])):w("",!0)])])};const Me={components:{CountryDetail:me},data:()=>({country:null}),computed:a({},l(["getByName"])),methods:{backToList(){this.$router.push("/")},getCountry(){this.country=this.getByName(this.$route.params.name)}},mounted(){this.getCountry()},updated(){this.getCountry()}},Oe={class:"nav"},_e=u("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[u("path",{d:"M0 0h24v24H0V0z",fill:"none"}),u("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21v-2z"})],-1),Se=E(" Back ");Me.render=function(e,t,n,s,o,a){const l=g("CountryDetail");return c(),d("div",null,[u("div",Oe,[u("a",{onClick:t[1]||(t[1]=N(((...e)=>a.backToList&&a.backToList(...e)),["prevent"])),class:"btn"},[_e,Se])]),o.country?(c(),d(l,{key:0,country:o.country},null,8,["country"])):w("",!0)])};const Te=[{path:"/",name:"countries",component:ie},{path:"/:name",name:"country",component:Me}],De=new R({history:M("/fem-countries-listings/"),routes:Te});var xe={getAll:()=>O.get("https://restcountries.eu/rest/v2/all?fields=name;alpha3Code;flag;nativeName;population;region;subregion;capital;topLevelDomain;currencies;languages;borders")};const Ie=_({plugins:[S()],state:{countries:[],filterName:null,filterRegion:null,darkMode:!1,page:1},getters:{getCountries(e){let t=e.countries;e.filterRegion&&(t=t.filter((t=>0===t.region.toLowerCase().indexOf(e.filterRegion.toLowerCase())))),e.filterName&&(t=t.filter((t=>0===t.name.toLowerCase().indexOf(e.filterName.toLowerCase()))));const n=Math.min(10*e.page,t.length-1);return t=t.slice(0,n),t},getByName:e=>t=>{const n=e.countries.findIndex((e=>e.name.toLowerCase()===t.toLowerCase()));return e.countries[n]},getByCodes:e=>t=>e.countries.filter((e=>t.indexOf(e.alpha3Code)>=0)),isDarkMode:e=>e.darkMode},actions:{goNextPage({commit:e}){e("INCREMENT_PAGE")},loadCountries:({commit:e})=>xe.getAll().then((t=>e("SET_COUNTRIES",t.data))),filterOnName({commit:e},t){e("SET_FILTERNAME",t)},filterByRegion({commit:e},t){e("SET_REGIONFILTER",t)},toggleDarkMode({commit:e,state:t}){e("SET_DARK_MODE",!t.darkMode)},setDarkMode({commit:e}){let t=JSON.parse(localStorage.getItem("dark_mode"));null===t&&(t=window.matchMedia("(prefers-color-scheme: dark)").matches),e("SET_DARK_MODE",t)}},mutations:{INCREMENT_PAGE(e){e.page++},SET_COUNTRIES(e,t){e.countries=t},SET_FILTERNAME(e,t){e.filterName=t,e.page=1},SET_REGIONFILTER(e,t){e.filterRegion=t,e.page=1},SET_DARK_MODE(e,t){e.darkMode=t,localStorage.setItem("dark_mode",t)}}});const Be=T(V);Be.use(De),Be.use(Ie),Be.config.devtool=!0,Be.mount("#app");
